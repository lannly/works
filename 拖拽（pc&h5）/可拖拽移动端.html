<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <!-- 删除苹果默认的工具栏和菜单栏 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <!-- 设置苹果工具栏颜色 -->
    <meta name="format-detection" content="telphone=no, email=no"/>
    <!-- 忽略页面中的数字识别为电话，忽略email识别 -->
    <script id="jquery_183" type="text/javascript" class="library" src="http://runjs.cn/js/sandbox/jquery/jquery-1.8.3.min.js"></script>
    <style>
        #floatBut{
            position: absolute;/*一定要加上绝对定位*/
            width: 100px;height: 100px;background: #f00;
        }
    </style>
</head>
<body>
<div id="floatBut"></div>
<script type="text/javascript">
    $(function () {
        var cont = $("#floatBut");   //可被移动的浮块
        var contW = $("#floatBut").width();
        var contH = $("#floatBut").height();
        var startX, startY, sX, sY, moveX, moveY;
        var winW = $(window).width();
        var winH = $(window).height();
        var body = $("body");

        cont.on({//绑定事件
            touchstart: function (e) {
                startX = e.originalEvent.targetTouches[0].pageX;
                startY = e.originalEvent.targetTouches[0].pageY;
                sX = $(this).offset().left;
                sY = $(this).offset().top;
                leftX = startX - sX;
                rightX = winW - contW + leftX;
                topY = startY - sY;
                bottomY = winH - contH + topY;
            },
            touchmove: function (e) {
                e.preventDefault();
                moveX = e.originalEvent.targetTouches[0].pageX;
                moveY = e.originalEvent.targetTouches[0].pageY;
                if (moveX < leftX) {
                    moveX = leftX;
                }
                if (moveX > rightX) {
                    moveX = rightX;
                }
                if (moveY < topY) {
                    moveY = topY;
                }
                if (moveY > bottomY) {
                    moveY = bottomY;
                }
                $(this).css({
                    "left": moveX + sX - startX,
                    "top": moveY + sY - startY,
                })
            }
        })
    })
</script>
</body>
</html>