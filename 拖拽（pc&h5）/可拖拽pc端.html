<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>可拖拽（仅pc端）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <!-- 删除苹果默认的工具栏和菜单栏 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <!-- 设置苹果工具栏颜色 -->
    <meta name="format-detection" content="telphone=no, email=no"/>
    <!-- 忽略页面中的数字识别为电话，忽略email识别 -->
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        #div1 {
            position: absolute;
            width: 100px;
            height: 100px;
            cursor: move;
            background-color: red;
        }
        #div2 {
            position: absolute;
            top: 300px;
            width: 100px;
            height: 100px;
            cursor: move;
            background-color: #000;
        }
    </style>
</head>
<body>
<div id="div1"></div>
<script>
    window.onload = function () {
        //获取需要拖拽的div
        var div1 = document.getElementById("div1");
        //添加鼠标按下事件
        div1.onmousedown = function (evt) {
            var oEvent = evt || event;
            //获取按下鼠标到div left  top的距离
            var distanceX = oEvent.clientX - div1.offsetLeft;
            var distanceY = oEvent.clientX - div1.offsetTop;
            //添加doc滑动时间
            document.onmousemove = function (evt) {
                var oEvent = evt || event;
                //重新计算div的left top值
                var left = oEvent.clientX - distanceX;
                var top = oEvent.clientY - distanceY;
                //left  当小于等于零时，设置为零 防止div拖出document之外
                if (left <= 0) {
                    left = 0;
                }
                //当left 超过文档右边界  设置为右边界
                else if (left >= document.documentElement.clientWidth - div1.offsetWidth) {
                    left = document.documentElement.clientWidth - div1.offsetWidth;
                }
                if (top <= 0) {
                    top = 0;
                }
                else if (top >= document.documentElement.clientHeight - div1.offsetHeight) {
                    top = document.documentElement.clientHeight - div1.offsetHeight;
                }
                //重新给div赋值
                div1.style.top = top + "px";
                div1.style.left = left + "px";
            }
            //添加鼠标抬起事件
            div1.onmouseup = function () {
                //清空事件
                document.onmousemove = null;
                div1.onmouseup = null;
            }
        }
    }
</script>
</body>
</html>